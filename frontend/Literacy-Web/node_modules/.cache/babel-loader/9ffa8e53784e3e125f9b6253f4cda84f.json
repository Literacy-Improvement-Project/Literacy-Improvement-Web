{"ast":null,"code":"import axios from \"axios\";\nimport { VOICE_RECOGNITION, VOICE_RECOGNITION_SUCCESS, VOICE_RECOGNITION_FAILURE } from \"./types\";\nexport function voiceRecognitionRequest(data) {\n  return dispatch => {\n    dispatch(voiceRecognition()); // audio file formData로 줄때\n\n    const formData = new FormData();\n    const config = {\n      header: {\n        \"content-type\": \"multipart/form-data\"\n      }\n    };\n    formData.append(\"audioFile\", data); // audio base64 데이터로 줄 때\n\n    let body = {\n      audio: data\n    };\n    console.log(formData.get(\"audioFile\"));\n    return axios.post(\"http://localhost:8080/voiceRecognition\", formData, config).then(response => {\n      dispatch(voiceRecognitionSuccess(response.data));\n    }).catch(error => {\n      dispatch(voiceRecognitionFailure());\n    });\n  };\n}\nexport function voiceRecognition() {\n  return {\n    type: VOICE_RECOGNITION\n  };\n}\nexport function voiceRecognitionSuccess(result) {\n  return {\n    type: VOICE_RECOGNITION_SUCCESS,\n    result\n  };\n}\nexport function voiceRecognitionFailure() {\n  return {\n    type: VOICE_RECOGNITION_FAILURE\n  };\n}","map":{"version":3,"sources":["C:/Users/Cheolsoon/Desktop/Literacy-Improvement-Web/frontend/Literacy-Web/src/redux/voiceRecognition/actions.js"],"names":["axios","VOICE_RECOGNITION","VOICE_RECOGNITION_SUCCESS","VOICE_RECOGNITION_FAILURE","voiceRecognitionRequest","data","dispatch","voiceRecognition","formData","FormData","config","header","append","body","audio","console","log","get","post","then","response","voiceRecognitionSuccess","catch","error","voiceRecognitionFailure","type","result"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,iBADF,EAEEC,yBAFF,EAGEC,yBAHF,QAIO,SAJP;AAMA,OAAO,SAASC,uBAAT,CAAiCC,IAAjC,EAAuC;AAC5C,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,gBAAgB,EAAjB,CAAR,CADmB,CAGnB;;AACA,UAAMC,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AAEA,UAAMC,MAAM,GAAG;AACbC,MAAAA,MAAM,EAAE;AAAE,wBAAgB;AAAlB;AADK,KAAf;AAIAH,IAAAA,QAAQ,CAACI,MAAT,CAAgB,WAAhB,EAA6BP,IAA7B,EAVmB,CAYnB;;AACA,QAAIQ,IAAI,GAAG;AACTC,MAAAA,KAAK,EAAET;AADE,KAAX;AAGAU,IAAAA,OAAO,CAACC,GAAR,CAAYR,QAAQ,CAACS,GAAT,CAAa,WAAb,CAAZ;AACA,WAAOjB,KAAK,CACTkB,IADI,CACC,wCADD,EAC2CV,QAD3C,EACqDE,MADrD,EAEJS,IAFI,CAEEC,QAAD,IAAc;AAClBd,MAAAA,QAAQ,CAACe,uBAAuB,CAACD,QAAQ,CAACf,IAAV,CAAxB,CAAR;AACD,KAJI,EAKJiB,KALI,CAKGC,KAAD,IAAW;AAChBjB,MAAAA,QAAQ,CAACkB,uBAAuB,EAAxB,CAAR;AACD,KAPI,CAAP;AAQD,GAzBD;AA0BD;AAED,OAAO,SAASjB,gBAAT,GAA4B;AACjC,SAAO;AACLkB,IAAAA,IAAI,EAAExB;AADD,GAAP;AAGD;AAED,OAAO,SAASoB,uBAAT,CAAiCK,MAAjC,EAAyC;AAC9C,SAAO;AACLD,IAAAA,IAAI,EAAEvB,yBADD;AAELwB,IAAAA;AAFK,GAAP;AAID;AAED,OAAO,SAASF,uBAAT,GAAmC;AACxC,SAAO;AACLC,IAAAA,IAAI,EAAEtB;AADD,GAAP;AAGD","sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  VOICE_RECOGNITION,\r\n  VOICE_RECOGNITION_SUCCESS,\r\n  VOICE_RECOGNITION_FAILURE,\r\n} from \"./types\";\r\n\r\nexport function voiceRecognitionRequest(data) {\r\n  return (dispatch) => {\r\n    dispatch(voiceRecognition());\r\n\r\n    // audio file formData로 줄때\r\n    const formData = new FormData();\r\n\r\n    const config = {\r\n      header: { \"content-type\": \"multipart/form-data\" },\r\n    };\r\n\r\n    formData.append(\"audioFile\", data);\r\n\r\n    // audio base64 데이터로 줄 때\r\n    let body = {\r\n      audio: data,\r\n    };\r\n    console.log(formData.get(\"audioFile\"));\r\n    return axios\r\n      .post(\"http://localhost:8080/voiceRecognition\", formData, config)\r\n      .then((response) => {\r\n        dispatch(voiceRecognitionSuccess(response.data));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(voiceRecognitionFailure());\r\n      });\r\n  };\r\n}\r\n\r\nexport function voiceRecognition() {\r\n  return {\r\n    type: VOICE_RECOGNITION,\r\n  };\r\n}\r\n\r\nexport function voiceRecognitionSuccess(result) {\r\n  return {\r\n    type: VOICE_RECOGNITION_SUCCESS,\r\n    result,\r\n  };\r\n}\r\n\r\nexport function voiceRecognitionFailure() {\r\n  return {\r\n    type: VOICE_RECOGNITION_FAILURE,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}